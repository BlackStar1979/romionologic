<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ROMION SIM™ — Specyfikacja (α)</title>

<!-- Czcionka jak na homepage -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap"></noscript>

<!-- Style (ciemne, spójne z homepage) -->
<link rel="stylesheet" href="/assets/css/site.css" />

<!-- highlight.js (CDN) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- KaTeX (CDN) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>

<!-- Logika strony (twój plik) -->
<script defer src="/assets/js/spec.js"></script>
</head>
<body>
  <a class="sr-only sr-only-focusable" href="#main">Przejdź do treści</a>

  <div class="container">
    <header class="hero">
      <h1>ROMION O'LOGIC™</h1>
      <p class="subtitle">Nowa Perspektywa na Rzeczywistość</p>
      <nav class="hero" aria-label="Główna nawigacja">
        <a href="/">Wprowadzenie</a>
        <a href="/axioms">Aksjomaty</a>
        <a href="/sim">ROMION SIM™</a>
        <a href="/sim/spec" aria-current="page">Specyfikacja</a>
        <a href="/core">Rdzeń idei</a>
        <a href="/riddles">Zagadki</a>
        <a href="/apps">Zastosowania</a>
        <a href="/diagram">Diagram</a>
        <a href="/join">Dołącz</a>
        <a href="/roadmap">Roadmapa</a>
        <a href="/manifest">Manifest</a>
      </nav>
    </header>

    <!-- TEZA -->
    <div class="teza">
      Teza strony: Specyfikacja ROMION SIM™ definiuje format eksperymentów (hipergraf, reguły τ, sondy 𝕀, uruchomienie),
      zasady walidacji i wersjonowania oraz minimalny zestaw narzędzi do pracy.
    </div>

    <main class="wrap" id="main">
      <h1>ROMION SIM™ — Specyfikacja (α)</h1>
      <p class="note">Ta wersja to <strong>0.1.0-alpha</strong>. YAML zalecany dla człowieka, JSON dla API/automatyzacji. Obie reprezentacje są izomorficzne.</p>

      <div class="columns">
       <!-- CONTENT -->
        <div>
          <section id="overview" class="card">
            <h2>Przegląd</h2>
            <p><strong>Cel:</strong> Stabilny i jednoznaczny opis: <em>hipergrafu początkowego</em>, zbioru lokalnych reguł <kbd>τ</kbd>,
               sond inwariantów <kbd>𝕀</kbd> oraz konfiguracji uruchomienia. Minimalne wymagania są zamknięte w JSON Schema.</p>
            <ul>
              <li><strong>Pliki wejściowe:</strong> <code>.yaml</code> lub <code>.json</code></li>
              <li><strong>Walidacja:</strong> JSON Schema (draft 2020-12)</li>
              <li><strong>Wersjonowanie:</strong> SemVer w polu <code>spec_version</code></li>
            </ul>
          </section>

          <section id="schema" class="card">
            <h2>Oficjalne JSON Schema (α)</h2>
            <div class="code-toolbar">
              <button class="copy">📋 Kopiuj</button>
              <button class="save">💾 Zapisz</button>
              <button class="print">🖨️ Drukuj do PDF</button>
            </div>
            <pre class="code"><code class="language-json" data-src="/examples/schema/romion-sim.alpha.json">Ładowanie schematu…</code></pre>
            <p class="note">
              Jeśli plik nie istnieje w repozytorium lub zawiera tylko „xxx”, zobaczysz wyłącznie komunikat o stanie
              (istnieje/pusty/„xxx”). <strong>Bez proponowania treści.</strong>
            </p>
          </section>

          <section id="examples" class="card">
            <h2>Przykłady (YAML/JSON)</h2>

            <div class="grid">
              <div>
                <h3>Minimalny eksperyment (YAML)</h3>
                <div class="code-toolbar">
                  <button class="copy">📋 Kopiuj</button>
                  <button class="save">💾 Zapisz</button>
                  <button class="print">🖨️ Drukuj do PDF</button>
                </div>
                <pre><code class="language-yaml" data-src="/examples/yaml/minimal.yaml">Ładowanie…</code></pre>
              </div>

              <div>
                <h3>To samo (JSON)</h3>
                <div class="code-toolbar">
                  <button class="copy">📋 Kopiuj</button>
                  <button class="save">💾 Zapisz</button>
                  <button class="print">🖨️ Drukuj do PDF</button>
                </div>
                <pre><code class="language-json" data-src="/examples/json/minimal.json">Ładowanie…</code></pre>
              </div>
            </div>

            <div class="grid" style="margin-top:16px">
              <div>
                <h3>Rozszerzony hipergraf (YAML)</h3>
                <div class="code-toolbar">
                  <button class="copy">📋 Kopiuj</button>
                  <button class="save">💾 Zapisz</button>
                  <button class="print">🖨️ Drukuj do PDF</button>
                </div>
                <pre><code class="language-yaml" data-src="/examples/yaml/hypergraph-extended.yaml">Ładowanie…</code></pre>
              </div>

              <div>
                <h3>Sonda z parametrami (JSON)</h3>
                <div class="code-toolbar">
                  <button class="copy">📋 Kopiuj</button>
                  <button class="save">💾 Zapisz</button>
                  <button class="print">🖨️ Drukuj do PDF</button>
                </div>
                <pre><code class="language-json" data-src="/examples/json/probe.json">Ładowanie…</code></pre>
              </div>

              <!--
              <div>
                <h3>Metryka i koszty (JSON)</h3>
                <div class="code-toolbar">
                  <button class="copy">📋 Kopiuj</button>
                  <button class="save">💾 Zapisz</button>
                  <button class="print">🖨️ Drukuj do PDF</button>
                </div>
                <pre><code class="language-json" data-src="/examples/json/metric.json">Ładowanie…</code></pre>
              </div>
              -->
            </div>

            <h3 style="margin-top:20px">Przykładowy skrypt (JS)</h3>
            <div class="code-toolbar">
              <button class="copy">📋 Kopiuj</button>
              <button class="save">💾 Zapisz</button>
              <button class="print">🖨️ Drukuj do PDF</button>
            </div>
            <pre><code class="language-javascript" data-src="/examples/js/spec1.js">Ładowanie…</code></pre>
          </section>

          <section id="validation" class="card">
            <h2>Walidacja</h2>
            <ul>
              <li>Użyj dowolnej biblioteki JSON Schema (draft 2020-12). YAML → JSON: zwykła serializacja.</li>
              <li>Tryb <strong>strict</strong> – wymaga pełnej zgodności ze schematem; <strong>lenient</strong> – ostrzega na polach nieznanych.</li>
              <li>Idempotencja: parse → export nie zmienia semantyki (kolejność pól dowolna).</li>
            </ul>
            <div class="code-toolbar">
              <button class="copy">📋 Kopiuj</button>
              <button class="print">🖨️ Drukuj do PDF</button>
            </div>
            <pre><code class="language-bash">romion-sim validate spec.yaml --strict
romion-sim run spec.yaml --seed 123 --export metrics.json</code></pre>
          </section>

          <section id="errors" class="card">
            <h2>Kody błędów (α)</h2>
            <div class="grid">
              <div>
                <h3>Walidacja</h3>
                <ul>
                  <li><strong>RS-VAL-001</strong> — brak pola obowiązkowego (np. <code>run.steps</code>).</li>
                  <li><strong>RS-VAL-002</strong> — typ niezgodny ze schematem.</li>
                  <li><strong>RS-VAL-003</strong> — niedozwolone dodatkowe pola w trybie <em>strict</em>.</li>
                </ul>
              </div>
              <div>
                <h3>Semantyka</h3>
                <ul>
                  <li><strong>RS-SEM-101</strong> — reguła usuwa nieistniejący hiperbrzeg.</li>
                  <li><strong>RS-SEM-102</strong> — złamanie inwariantu (np. <code>preserve_loop_class</code>).</li>
                  <li><strong>RS-SEM-103</strong> — cykl bez wyjścia (stagnacja/przesterowanie).</li>
                </ul>
              </div>
              <div>
                <h3>Uruchomienie</h3>
                <ul>
                  <li><strong>RS-RUN-201</strong> — nieznany <code>schedule</code>.</li>
                  <li><strong>RS-RUN-202</strong> — błąd eksportu (ścieżka/perm).</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="versioning" class="card">
            <h2>Wersjonowanie i kompatybilność</h2>
            <ul>
              <li><strong>SemVer specyfikacji</strong> – <code>spec_version</code> w pliku eksperymentu.</li>
              <li><strong>Kompatybilność wstecz</strong> – α → β: zachowujemy istniejące pola; deprecjacje ostrzegane (<em>lenient</em>).</li>
              <li><strong>Stabilizacja</strong> – zamrożenie słowników (<code>probes</code>, <code>schedule</code>) w β.</li>
            </ul>
          </section>

          <section id="security" class="card">
            <h2>Bezpieczeństwo i dobre praktyki</h2>
            <ul>
              <li>Pliki specyfikacji są niewykonywalne (zakaz osadzania skryptów/komend).</li>
              <li>Wartości tekstowe są danymi — brak interpolacji.</li>
              <li>Tryb strict: odrzucaj URL-e w polach ścieżkowych.</li>
              <li>Powtarzalność: zapisuj <code>seed</code> i wersję silnika.</li>
            </ul>
          </section>

          <section id="glossary" class="card">
            <h2>Glosariusz</h2>
            <div class="grid-3">
              <div><strong>Hipergraf</strong><br>Uogólnienie grafu: hiperbrzeg łączy n ≥ 2 węzły.</div>
              <div><strong>Reguła (Rule)</strong><br>Lokalne przepisanie fragmentu hipergrafu.</div>
              <div><strong>Inwariant</strong><br>Wielkość zachowywana/kontrolowana przez dynamikę.</div>
              <div><strong>Metryka <code>d_em</code></strong><br>Koszt minimalnej sekwencji transformacji sprzęgającej wzorce.</div>
              <div><strong>Schedule</strong><br>Strategia wyboru miejsca zastosowania reguły.</div>
              <div><strong>Probe</strong><br>Sonda pomiarowa generująca komponent wektora 𝕀.</div>
            </div>
          </section>

          <section id="feedback" class="card">
            <h2>Uwagi do specyfikacji</h2>
            <form id="contact-form" action="https://formspree.io/f/xpwlelpg" method="POST" aria-label="Wyślij uwagi">
              <input type="email" name="email" placeholder="Twój e-mail (opcjonalnie)" autocomplete="email"
                     style="padding:10px;border-radius:8px;border:1px solid var(--border);background:#2a2a2a;color:var(--text);width:260px">
              <input type="hidden" name="_subject" value="ROMION SIM™ — uwagi do specyfikacji">
              <textarea name="message" rows="5" placeholder="Proponowany zapis/uwaga…" required
                        style="display:block;width:100%;margin:10px 0;padding:10px;border-radius:8px;border:1px solid var(--border);background:#2a2a2a;color:var(--text)"></textarea>
              <button type="submit" style="background:var(--primary);color:#fff;border:0;border-radius:8px;padding:10px 14px;cursor:pointer">Wyślij</button>
              <button type="button" id="printPage" style="margin-left:8px;background:#374151;color:#fff;border:0;border-radius:8px;padding:10px 14px;cursor:pointer">Drukuj stronę (PDF)</button>
            </form>
            <p id="form-status" class="note" style="margin-top:8px"></p>
          </section>
        </div>
      </div>
    </main>

    <footer>
      © ROMION O'LOGIC™ — Specyfikacja ROMION SIM™ (ALPHA). <a href="/sim">Wróć do ROMION SIM™</a>.
    </footer>
  </div>

  <!-- Miniatury / podglądy -->
  <div class="sr-only">
    <img src="/thumb1.png" alt="">
    <img src="/thumb2.png" alt="">
  </div>
  
  <!-- PŁYWAJĄCE TOC -->
<nav id="toc-float" class="toc-float" aria-label="Spis treści (pływający)">
  <strong>Sekcje</strong>
  <nav>
    <a href="#overview">Przegląd</a>
    <a href="#schema">JSON Schema</a>
    <a href="#examples">Przykłady</a>
    <a href="#validation">Walidacja</a>
    <a href="#errors">Błędy</a>
    <a href="#cli">CLI</a>
    <a href="#versioning">Wersjonowanie</a>
    <a href="#security">Bezpieczeństwo</a>
    <a href="#glossary">Glosariusz</a>
    <a href="#feedback">Uwagi</a>
  </nav>
</nav>
  
<!-- MOBILE FAB + BOTTOM SHEET -->
<button id="tocFab" aria-controls="tocSheet" aria-expanded="false">☰ Sekcje</button>
<div id="sheetBackdrop" aria-hidden="true"></div>
<div id="tocSheet" role="dialog" aria-modal="true" aria-label="Sekcje">
  <h3>Sekcje</h3>
  <nav>
    <a href="#overview">Przegląd</a>
    <a href="#schema">JSON Schema</a>
    <a href="#examples">Przykłady</a>
    <a href="#validation">Walidacja</a>
    <a href="#errors">Błędy</a>
    <a href="#cli">CLI</a>
    <a href="#versioning">Wersjonowanie</a>
    <a href="#security">Bezpieczeństwo</a>
    <a href="#glossary">Glosariusz</a>
    <a href="#feedback">Uwagi</a>
  </nav>
</div>

<!-- STRZAŁKA „DO GÓRY” -->
<button id="toTop" aria-label="Wróć na górę">↑</button>

</body>
</html>
